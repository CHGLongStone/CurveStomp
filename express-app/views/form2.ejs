<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="assets/css/form.css"/>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!--    <script type="text/javascript" src="assets/js/form2.js"></script>-->
    <script type="text/javascript" src="assets/js/form.js"></script>
    <meta charset="UTF-8">
    <title>COVID-19 Symptom Survey</title>
</head>
<body>


<form>
    <h1>COVID-19 Symptom Tracking Survey</h1>
    <div class="explainer">

        <p>This survey tracks COVID-19 related symptoms. Households provide anonymous daily reports,
            and collected information is published freely to aid on-going research efforts. Periodic
            reporting enables researchers to track symptom progression over time. This information
            complements laboratory testing. This is discussed in greater detail in the following
            papers.</p>

        <p>We are taking every measure to safeguard the privacy and anonymity of participants. This
            was not a simple task, as some form of token is needed to correlate a given household's
            reports over time. <b>All information submitted via this form is surrendered to public
                domain.</b></p>

        <p>Please fill out the questionnaire regularly whether you experience symptoms or not.
            Reports of ‘no symptoms’ are critically important as baseline information.</p>

        <p>We thank you for your participation and ask that you help us spread the word about this
            effort.</p>

        <p><i>--- Symptometrics.org</i></p>

    </div>
    <section id="household">
        <h2>Household</h2>

        <div class="explainer">
            <p>In order to track the spread and progression of COVID-19 symptoms, the following
                questions will establish an anonymous identity for your household and its members.
                Your future reports will be associated to this identity.</p>
            <p>Required fields are followed by <strong><abbr title="required">*</abbr></strong>.</p>
        </div>


        <fieldset id="h_identity">
            <legend>Identity</legend>

            <div class="explainer">
                <p>If this is your first report, please keep a record of your household’s Unique
                    Identifier and chosen Passcode in a safe location, for future reports. These
                    cannot be recovered.</p>

                <!--                <p>Your email, if you choose to provide it, will not be published along with the-->
                <!--                    survey data. It will be used solely for account recovery, and as a means to-->
                <!--                    notify you about trends which may affect your household, based on the-->
                <!--                    information you and other households in your region have reported.</p>-->
            </div>

            <div class="fieldset_container">
                <!--                <div class="field_container">-->
                <!--                    <label for="h_id_email">Email:</label>-->
                <!--                    <input id="h_id_email" type="email">-->
                <!--                </div>-->


                <div class="field_container">
                    <label for="h_id_uid">Unique Identifier:</label>
                    <input id="h_id_uid" type="text">
                </div>

                <div class="field_container">
                    <label for="h_id_pass">Passcode:</label>
                    <input id="h_id_pass" type="password">
                </div>

                <div class="field_container" style="display:none">
                    <label for="h_id_pass_confirm">Confirm Passcode:</label>
                    <input id="h_id_pass_confirm" type="password">
                </div>

                <div style="justify-self:flex-end">
                    <input id="h_id_load" type="button" value="Load ID">
                    <input id="h_id_create" type="button" value="Create ID">
                </div>

            </div>

        </fieldset>

        <fieldset id="h_location">
            <legend>Location</legend>
            <div class="explainer">
                <p>Please provide the following information about your household’s location. This
                    information is critical to understanding the spread of COVID-19 symptoms and
                    identifying areas which may be overlooked by authorities. Please <b>do
                        not</b> provide
                    your house number or apartment number, as this will undermine anonymity.</p>
            </div>
            <div class="fieldset_container">
                <div class="field_container">
                    <label for="h_loc_country">Country:</label>
                    <input list="country" id="h_loc_country">
                </div>

                <div class="field_container">
                    <label for="h_loc_region">Region:</label>
                    <input list="region" id="h_loc_region">
                </div>

                <div class="field_container">
                    <label for="h_loc_city">City:</label>
                    <input list="city" id="h_loc_city">
                </div>

                <div class="field_container">
                    <label for="h_loc_street">Street Name:</label>
                    <input type="text" id="h_loc_street">
                </div>

                <div class="field_container">
                    <label for="h_loc_pcode">Postal Code:</label>
                    <input type="text" id="h_loc_pcode" maxlength="10">
                </div>
            </div>
        </fieldset>

        <fieldset id="h_members">
            <legend>Household Members</legend>
            <div class="explainer">
                <p>In this section you’ll provide basic medical information about the members of
                    your household. If members join or leave your household, you will be able to
                    modify this list in your next report.</p>

                <p>We will convert each member’s information into a designator which should allow
                    you to more easily identify them in the list. The designator is constructed from
                    their age, biological sex, and a two-letter alias of your choosing. For example,
                    the designator for a 35-year-old Male with the alias “JG” would be 35M-JG. The
                    designator for each member of your household must be unique.</p>
            </div>

            <fieldset class="h_member_row" id="h_member_row">
                <legend>AAAS-NN</legend>
                <div class="fieldset_container">
                    <div class="field_container">
                        <label for="h_mem_age">Age:</label>
                        <input id="h_mem_age" type="number" min="0" step="1" required>
                    </div>

                    <div class="field_container">
                        <label for="h_mem_bio_gender">Sex:</label>
                        <select id="h_mem_bio_gender" required>
                            <option value="M">Male</option>
                            <option value="F">Female</option>
                        </select>
                    </div>

                    <div class="field_container">
                        <label for="h_mem_alias">Alias:</label>
                        <input id="h_mem_alias" type="text" maxlength="2" required>
                    </div>

                    <input type="button" id="h_mem_del" value="Delete">
                </div>
            </fieldset>

            <input type="button" id="h_mem_add" value="Add Member">
        </fieldset>
    </section>

    <section id="member">
        <h2>Household Member: <span id="m_cur_memcode">AAAS-NN</span></h2>
        <div class="explainer">
            <p>Please answer the following questions <b>for each household member separately</b>.
                Responses will be incorporated into statistical models used to analyze and research
                the COVID-19 pandemic and its spread and may save lives. Please answer each question
                as accurately as you can.</p>
        </div>

        <fieldset id="m_symptoms">
            <legend>Symptoms</legend>

            <div class="explainer">
                <p>Please describe the household member's symptoms. The following symptoms are known
                    to be associated with COVID-19. If no symptoms are present, please leave fields
                    at their default settings. Please do not report symptoms predating Dec 1,
                    2019.</p>
            </div>

            <div class="fieldset_container">
                <div class="field_container">
                    <label for="m_symp_cough">Dry Cough:</label>
                    <input id="m_symp_cough" type="range" min="0" max="5" step="1" value="0">
                </div>

                <div class="field_container">
                    <label for="m_symp_cough_productive">Productive Cough:</label>
                    <input id="m_symp_cough_productive" type="range" min="0" max="5" step="1"
                           value="0">
                </div>

                <div class="field_container">
                    <label for="m_symp_pneumonia">Pneumonia (Diagnosed):</label>
                    <input id="m_symp_pneumonia" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_breathing">Difficulty Breathing</label>
                    <input id="m_symp_breathing" type="range" min="0" max="5" step="1" value="0">
                </div>

                <div class="field_container">
                    <label for="m_symp_walking">Difficulty Walking</label>
                    <input id="m_symp_walking" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_appetite">Appetite Loss</label>
                    <input id="m_symp_appetite" type="range" min="0" max="5" step="1" value="0">
                </div>

                <div class="field_container">
                    <label for="m_symp_diarrhea">Diarrhea:</label>
                    <input id="m_symp_diarrhea" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_muscle_pain">Muscle Pain:</label>
                    <input id="m_symp_muscle_pain" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_fatigue">Fatigue:</label>
                    <input id="m_symp_fatigue" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_nose">Runny Nose or Congestion:</label>
                    <input id="m_symp_nose" type="range" min="0" max="2" step="1" value="0">
                </div>

                <div class="field_container">
                    <label for="m_symp_throat">Sore Throat:</label>
                    <input id="m_symp_throat" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_fever">Fever</label>
                    <input id="m_symp_fever" type="number" min="36" max="43" step="0.1"
                           value="36.7">
                </div>

                <div class="field_container">
                    <label for="m_symp_headache">Headache</label>
                    <input id="m_symp_headache" type="range" min="0" max="3" step="1" value="0">
                </div>

                <div class="field_container">
                    <label for="m_symp_dizziness">Dizziness/Lightheaded:</label>
                    <input id="m_symp_dizziness" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_nausea">Nausea:</label>
                    <input id="m_symp_nausea" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_chills">Chills/Shivers:</label>
                    <input id="m_symp_chills" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_symp_general_pain">Generalized Pain:</label>
                    <input id="m_symp_general_pain" type="checkbox">
                </div>

            </div>
        </fieldset>

        <fieldset id="m_transmission">
            <legend>Transmission</legend>
            <div class="explainer">
                <p>Please provide information about the household member’s level of isolation. This
                    will assist in developing regional containment and mitigation strategies and
                    creating models of the virus’s geographic transmission. Please answer these
                    questions honestly and as accurately as you can.</p>
            </div>

            <div class="fieldset_container">
                <div class="field_container">
                    <label for="m_trans_isolation">Isolation:</label>
                    <select id="m_trans_isolation">
                        <option>None</option>
                        <option>Physical Distancing</option>
                        <option>Home Isolation</option>
                        <option>Daily Outings with minimal contacts</option>
                        <option>Full Quarantine (No leaving house)</option>
                    </select>
                    <!--                    <input id="m_trans_isolation" type="range" min="0" max="5" step="1" value="0">-->
                </div>
                <div class="field_container">
                    <label for="m_trans_distance">Travelled Since Last Report:</label>
                    <select id="m_trans_distance">
                        <option>< 1km</option>
                        <option>1-5km</option>
                        <option>5-10km</option>
                        <option>10-100km</option>
                        <option>100km+</option>
                    </select>
                    <!--                    <input id="m_trans_distance" type="range" min="0" max="5" step="1" value="0">-->
                </div>
                <div class="field_container">
                    <label for="m_trans_surface">Surface Exposure:</label>
                    <input id="m_trans_surface" type="range" min="0" max="5" step="1" value="0">
                </div>
                <div class="field_container">
                    <label for="m_trans_human">Human Exposure:</label>
                    <input id="m_trans_human" type="range" min="0" max="5" step="1" value="0">
                </div>
            </div>
        </fieldset>

        <fieldset id="m_labresults">
            <legend>Clinical Results</legend>

            <div class="explainer">
                <p>Please fill out this section <b>only</b> if you have been hospitalized or have
                    been
                    clinically tested for COVID-19. Information about clinical findings will greatly
                    assist researchers in building predictive models of how symptom progression
                    relates to infection rates and could save lives.</p>
            </div>

            <div class="fieldset_container">
                <div class="field_container">
                    <label for="m_lab_tested">Clinically Tested:</label>
                    <input id="m_lab_tested" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_lab_result">Test Results:</label>
                    <input id="m_lab_result" list="lab_results" name="lab_results">
                </div>

                <div class="field_container">
                    <label for="m_lab_hospitalized">Hospitalized:</label>
                    <input id="m_lab_hospitalized" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_lab_hosp_days">Days in Hospital:</label>
                    <input id="m_lab_hosp_days" type="number" step="1">
                </div>

                <div class="field_container">
                    <label for="m_lab_hosp_icu">Admitted to ICU:</label>
                    <input id="m_lab_hosp_icu" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_lab_recovered">Has Recovered:</label>
                    <input id="m_lab_recovered" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_lab_ventilation">Mechanical Ventilation:</label>
                    <input id="m_lab_ventilation" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_lab_oxygen">Oxygen Support:</label>
                    <input id="m_lab_oxygen" type="checkbox">
                </div>

                <div class="field_container">
                    <label for="m_lab_symptoms">Other Symptoms:</label>
                    <input id="m_lab_symptoms" type="text" placeholder="Comma-Separated List">
                </div>
            </div>
        </fieldset>

        <div id="m_controls">
            <input id="m_nav_prev" type="button" value="< Previous">
            <input id="m_nav_next" type="button" value="Next >">
            <input id="btnSubmit" type="button" value="Submit">
        </div>
    </section>

</form>


<!--  SUPPORTING DATA  -->
<datalist id="bio_gender">
    <option value="M">Male</option>
    <option value="F">Female</option>
</datalist>
<datalist id="lab_results">
    <option value="positive">Positive</option>
    <option value="negative">Negative</option>
    <option value="unknown">Unknown</option>
</datalist>
<datalist id="country"></datalist>
<datalist id="region"></datalist>
<datalist id="city"></datalist>

<!--  COLLAPSING SCRIPT  -->
<script type="application/javascript">
    for (let header of document.querySelectorAll("h2, section > fieldset > legend")) {
        header.classList.add("collapsible");
        header.addEventListener("click", () => {
            Array.from(header.parentNode.children)
                .filter(n => n !== header)
                .forEach(n => n.classList.toggle("hidden"))
        });
        header.click()
    }
</script>

</body>
</html>